# Learn and Rise - AI English Tutor ğŸš€

**Learn and Rise** is a comprehensive, local-first AI application designed to help users master English through interactive video lessons, conversation practice, and personalized podcasts.

This project has been rewritten from Python to **Node.js** to ensure speed, stability, and ease of use with local LLMs.

---

## ğŸ—ï¸ Architecture

The application follows a modular **MVC (Model-View-Controller)** architecture powered by the Node.js ecosystem.

*   **Backend**: `Express.js` (Web Server)
*   **AI Engine**: `Ollama` (Running `gemma3:4b` locally)
*   **Frontend**: `EJS` (Server-side rendering) + `Bootstrap 5`
*   **Database**: In-memory (Mock) / File-based for simplcity (Easy to upgrade to MongoDB).
*   **Authentication**: Cookie-based middleware (`cookie-parser`).

### Directory Structure
```
Learn-and-Rise/
â”œâ”€â”€ server.js               # Application Entry Point
â”œâ”€â”€ package.json            # Dependencies & Scripts
â”œâ”€â”€ Dockerfile              # Containerization
â”œâ”€â”€ public/                 # Static Assets (CSS, JS)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/             # API & Page Routes
â”‚   â”‚   â”œâ”€â”€ authRoutes.js   # Login/Logout
â”‚   â”‚   â”œâ”€â”€ chatRoutes.js   # Chatbot Logic
â”‚   â”‚   â”œâ”€â”€ playerRoutes.js # Video Processing
â”‚   â”‚   â””â”€â”€ podcastRoutes.js# Audio Generation
â”‚   â”œâ”€â”€ services/           # Business Logic
â”‚   â”‚   â”œâ”€â”€ llmService.js   # Ollama Wrapper
â”‚   â”‚   â”œâ”€â”€ transcriptService.js # YouTube API
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ middleware/
â”‚       â””â”€â”€ authMiddleware.js # Route Protection
â””â”€â”€ views/                  # EJS Templates (HTML)
```

---

## ğŸ› ï¸ Prerequisites

Before running the project, ensure you have the following installed:

1.  **Node.js** (v18 or higher)
    *   [Download Node.js](https://nodejs.org/)
2.  **Ollama**
    *   [Download Ollama](https://ollama.com/)
    *   **Action**: Pull the required model:
        ```bash
        ollama pull gemma3:4b
        ```

---

## ğŸš€ Installation

1.  **Clone or Download** the repository.
2.  **Install Dependencies**:
    Open your terminal in the project folder and run:
    ```bash
    npm install
    ```
    This installs critical libraries like `express`, `ollama`, `youtube-transcript`, and `google-tts-api`.

3.  **Environment Setup**:
    The project uses defaults, but you can create a `.env` file for custom configuration:
    ```env
    PORT=3000
    ```

---

## ğŸƒ Running the Application

### Option 1: Standard (Recommended)
Run the server using Node:
```bash
node server.js
```
*   Access the app at: **http://localhost:3000**
*   Default Login credentials: Any email/password (Mock auth enabled).

### Option 2: Docker
We provide a `Dockerfile` for containerized deployment.
1.  **Build**: `docker build -t learn-and-rise .`
2.  **Run**: `docker run -p 3000:3000 learn-and-rise`
    *(Note: Docker container needs access to host Ollama instance, typically via `host.docker.internal`)*.

---

## âœ¨ Features Guide

### 1. ğŸ¤– Interactive Chatbot
*   **URL**: `/chat/chat_interface`
*   **Functionality**: Chat with an AI tutor.
*   **YouTube Integration**: Paste a YouTube URL to ingest the transcript. The chatbot will "read" the video and can answer questions about it.

### 2. ğŸ“º Smart Video Player
*   **URL**: `/player`
*   **Functionality**: Watch YouTube videos with a synchronized interactive transcript.
*   **Unique Feature**: **Click any word** in the transcript to instantly get a definition and usage examples generated by the AI.

### 3. ğŸ™ï¸ Podcast Generator
*   **URL**: `/podcast`
*   **Functionality**: Turn any topic into a mini-podcast.
    1.  Enter a Topic (e.g., "The History of Jazz").
    2.  Click **Generate Script** (AI writes the content).
    3.  Click **Convert to Audio** (TTS plays it back).

### 4. ğŸ”’ Authentication
*   **System**: Token-based cookies.
*   **Behavior**: Protects all main routes. Redirects unauthenticated users to `/auth/login`.

---

## â“ Troubleshooting

| Issue | Solution |
| :--- | :--- |
| **"Ollama connection failed"** | Ensure Ollama is running (`ollama serve`) and you pulled `gemma3:4b`. |
| **"Transcript failed"** | Ensure the YouTube video has **CC/Captions** enabled. Auto-generated captions work too. |
| **"Git Push Failed"** | We updated `.gitignore`. Run `git rm -r --cached .` and commit again to clear huge files. |

---

*Documentation Generated by Antigravity AI*
